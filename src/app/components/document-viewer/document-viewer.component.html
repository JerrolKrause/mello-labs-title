<ng-container *ngIf="!lnkey">
  <div class="container-fluid pt-3">
    <p>Please open a loan in order to view documents.</p>
  </div>
</ng-container>

<ng-container *ngIf="lnkey && docs && docGuid">
  <div class="card pdf" id="app-viewer">
    <div class="card-header">
      <div class="float-right">
        <small class="mr-2">
          <em>JKrause</em> |
          <em>02/24/2018</em> |
          <i class="fa fa-arrow-right" title="Side" *ngIf="docs?.dict[docGuid]?.rightSide"></i>
          <i class="fa fa-arrow-left" title="Side" *ngIf="!docs?.dict[docGuid]?.rightSide"></i> |

          <ng-container *ngIf="docs?.dict[docGuid]?.forReview">
            <i class="fa fa-square for-review {{docs?.dict[docGuid]?.forReview}}" aria-hidden="true" title="For Review"></i> |
          </ng-container>

          <i class="fa fa-check-square green" title="Final Stamp" aria-hidden="true" *ngIf="docs?.dict[docGuid]?.finalStamp"></i>
          <i class="fa fa-square" title="Final Stamp" aria-hidden="true" *ngIf="!docs?.dict[docGuid]?.finalStamp"></i>
        </small>

        <div ngbDropdown class="d-inline-block" placement="bottom-right" #myDrop="ngbDropdown"
             (mouseenter)="$event.stopPropagation(); myDrop.open();"
             (mouseleave)="$event.stopPropagation(); myDrop.close();">
          <button class="btn btn-secondary btn-sm" id="dropdownBasic1" ngbDropdownToggle>
            <i class="fa fa-file-pdf-o" aria-hidden="true"></i> Documents ({{docs.src.length}})
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <button class="dropdown-item" [ngClass]="doc.docGuid == docGuid ? 'active' : null"
                    (click)="ui.docViewerChange(instance, doc.docGuid)"
                    *ngFor="let doc of docs.src">
              {{doc.docName}}
            </button>
          </div>
        </div>

        <ng-container>
          |
          <div class="btn-group">
            <button class="btn btn-sm btn-secondary" title="Toggle Document Split Screen View"
              (click)="ui.multiDocsToggle()"
              [ngClass]="{'active':multiDocs}">
              <i class="fa fa-window-restore" aria-hidden="true"></i>
            </button>
            <button class="btn btn-sm btn-secondary" title="Open multi-screen view"
              *ngIf="ui.screen || !multiScreen"
              (click)="ui.multiScreenToggle()"
              [ngClass]="{'active':multiScreen}">
              <i class="fa fa-external-link-square" aria-hidden="true"></i>
            </button>
          </div>
        </ng-container>

      </div>
      <i class="fa fa-file-pdf-o" aria-hidden="true"></i> {{docs?.dict[docGuid]?.docName}} <em>({{lnkey}})</em>
    </div>

    <object [data]="docs?.dict[docGuid]?.docUrl | safe: 'resourceUrl'"
            type="application/pdf"
            class="w-100 pdf" style="top: 52px;">
      <embed [src]="docs?.dict[docGuid]?.docUrl | safe: 'resourceUrl'" type="application/pdf" />
    </object>

  </div>

</ng-container>
