<div id="app-forms">

  <ngb-tabset #tab="ngbTabset" class="nav-tabs-sm" [activeId]="tabStart">

    <ngb-tab id="tab-1">
      <ng-template ngbTabTitle>
        <i class="fa fa-warning yellow"></i> Needs Verification
      </ng-template>
      <ng-template ngbTabContent>

        <ng-container *ngIf="{ocr : loanCurrentOcr$ | async, loan: loanCurrent$ | async} as data">
          <app-form-title *ngIf="data.ocr && data.loan"
                          [ocr]="data.ocr"
                          [formData]="data.loan">
          </app-form-title>
        </ng-container>

        <!--
        <app-exceptions (formRef)="formRef('borrower',$event)"></app-exceptions>
        -->
      </ng-template>
    </ngb-tab>

    <ngb-tab id="tab-2">
      <ng-template ngbTabTitle>
        <i class="fa fa-check green"></i> Verified
      </ng-template>
      <ng-template ngbTabContent>
        <api-state [state]="status" [toaster]="true" [showSuccess]="false" *ngIf="formVestingStatus$ | async as status">
         
          <ng-container *ngIf="{loan: loanCurrent$ | async} as data">
            <app-form-title *ngIf="data.loan && status?.loaded"
                            [formData]="data.loan">
            </app-form-title>
          </ng-container>

          <!--
          <app-verified (formRef)="formRef('vesting',$event)"></app-verified>
          -->
        </api-state>
      </ng-template>
    </ngb-tab>

    <ngb-tab id="tab-3">
      <ng-template ngbTabTitle>
        <i class="fa fa-file-pdf-o"></i> Document Status
      </ng-template>
      <ng-template ngbTabContent>
        <api-state [state]="status" [toaster]="true" [showSuccess]="false" *ngIf="formVestingStatus$ | async as status">
          <app-document-status></app-document-status>
        </api-state>
      </ng-template>
    </ngb-tab>

  </ngb-tabset>

</div>
